const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Portfolio-BMQpc0GJ.js","./vue-vendor-CjrtIv8-.js","./Articles-05qbztZJ.js","./Projects-D3bvkvaO.js","./Contact-CYcbIpKG.js","./NotFound-DZgbLKcq.js"])))=>i.map(i=>d[i]);
import{d as e,r as t,c as a,o as l,a as o,b as n,s as r,e as s,f as i,u as c,t as u,F as d,g as p,h as m,i as f,j as h,n as v,k as g,w as y,l as x,m as b,p as w,T as k,q as E,v as _,x as T,y as C,z as j}from"./vue-vendor-CjrtIv8-.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const P={},S=function(e,t,a){let l=Promise.resolve();if(t&&t.length>0){const e=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),n=o?.nonce||o?.getAttribute("nonce");l=Promise.allSettled(t.map(t=>{if(t=function(e,t){return new URL(e,t).href}(t,a),t in P)return;P[t]=!0;const l=t.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(a)for(let a=e.length-1;a>=0;a--){const o=e[a];if(o.href===t&&(!l||"stylesheet"===o.rel))return}else if(document.querySelector(`link[href="${t}"]${o}`))return;const r=document.createElement("link");return r.rel=l?"stylesheet":"modulepreload",l||(r.as="script"),r.crossOrigin="",r.href=t,n&&r.setAttribute("nonce",n),document.head.appendChild(r),l?new Promise((e,a)=>{r.addEventListener("load",e),r.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return l.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})};function M(){return async function(e){try{const t=function(e){return`${function(){const e="./";if(e.startsWith("./")||e.startsWith("../")){const e=window.location.pathname.split("/");return e.pop(),window.location.origin+e.join("/")+"/"}if(e.startsWith("/"))return window.location.origin+e;const t=window.location.pathname.split("/");return t.pop(),window.location.origin+t.join("/")+"/"}()}${e.startsWith("/")?e.slice(1):e}`}(e),a=Date.now(),l=await fetch(`${t}?t=${a}`);if(!l.ok)throw new Error(`Failed to fetch ${e}: ${l.status}`);return await l.json()}catch(t){return null}}("config.json")}const L={site:{title:"鳞游の小窝",favicon:"/logo.ico"},profile:{name:"鳞游",avatar:"https://m.ccw.site/user_projects_assets/b69b283d-c243-492c-a2d3-2b84e4275605.jpg",bio:"全栈开发者 | 开源爱好者 | 技术博客作者",about:"我是一名热爱技术的全栈开发者，专注于Web开发和用户体验设计。"},contacts:[],friendLinks:[],quickLinks:[],playlist:[],themes:[{id:"light",name:"亮白",color:"#f8fafc",bg:"#f1f5f9",text:"#475569"},{id:"graphite",name:"石墨黑",color:"#64748b",bg:"#1e293b",text:"#e2e8f0"},{id:"lime",name:"青柠",color:"#a3e635",bg:"#fefce8",text:"#4d7c0f"},{id:"lemon",name:"柠黄",color:"#fde68a",bg:"#fffbeb",text:"#a16207"},{id:"apple",name:"苹果绿",color:"#4ade80",bg:"#f0fdf4",text:"#166534"},{id:"water",name:"水蓝",color:"#60a5fa",bg:"#eff6ff",text:"#1e40af"},{id:"cherry",name:"樱红",color:"#fda4af",bg:"#fef2f2",text:"#9f1239"},{id:"lavender",name:"薰衣草紫",color:"#c4b5fd",bg:"#faf5ff",text:"#6b21a8"}],footer:{copyright:"© 2026 鳞游. 保留所有权利.",extraInfo:"由 Vue 3 与 Tailwind CSS 构建",links:[]},settings:{defaultTheme:"water",enableParticles:!0,enableMusicPlayer:!0,enableClickEffects:!0,enablePoem:!0},poetryAPI:{enabled:!0,sources:[{url:"https://v1.jinrishici.com/all.json",responseType:"json",jsonPath:"content+'——'+author"},{url:"https://xiaojiyun.world123.top/yiyan/?format=text",responseType:"text",jsonPath:""},{url:"https://xiaojiyun1.world123.top/yiyan/?format=text",responseType:"text",jsonPath:""},{url:"https://xiaojiyun.world123.top/yiyan2/?format=text",responseType:"text",jsonPath:""},{url:"https://xiaojiyun1.world123.top/yiyan2/?format=text",responseType:"text",jsonPath:""},{url:"https://v1.hitokoto.cn/?encode=text",responseType:"text",jsonPath:""}]},coreValues:["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"]},$=e("config",()=>{const e=t(L),l=t(!1),o=t(null),n=a(()=>{const t=localStorage.getItem("selectedTheme")||e.value.settings.defaultTheme;return e.value.themes.find(e=>e.id===t)||e.value.themes[5]}),r=a(()=>"graphite"===n.value.id),s=e=>{document.body.style.backgroundColor=e.bg,document.body.style.color=e.text;const t=document.querySelector('meta[name="theme-color"]');t&&t.setAttribute("content",e.color)};return{config:e,loading:l,error:o,currentTheme:n,isDark:r,loadConfig:async()=>{l.value=!0,o.value=null;try{const t=await M();if(!t)throw new Error("Failed to load config");e.value={...L,...t},document.title=e.value.site.title;const a=document.querySelector('link[rel="icon"]');a&&a.setAttribute("href",e.value.site.favicon)}catch(t){o.value=t instanceof Error?t.message:"Unknown error"}finally{l.value=!1}},setTheme:t=>{const a=e.value.themes.find(e=>e.id===t);a&&(localStorage.setItem("selectedTheme",t),s(a))},initTheme:()=>{s(n.value)}}});function A(){const e=t(new Set);let a=null;return l(()=>{a=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.value.add(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),document.querySelectorAll(".scroll-reveal").forEach(e=>{a?.observe(e)})}),o(()=>{a&&(a.disconnect(),a=null)}),{revealedElements:e,observe:e=>{a&&a.observe(e)},unobserve:e=>{a&&a.unobserve(e)}}}const D={class:"space-y-8"},I={class:"glass-card rounded-2xl p-6 md:p-8 scroll-reveal"},z={class:"flex flex-col md:flex-row items-center gap-6 md:gap-8"},V={class:"relative flex-shrink-0"},q=["src","alt"],O={class:"text-center md:text-left flex-1"},F={class:"text-3xl md:text-4xl font-bold mb-2"},R={class:"text-lg opacity-90 mb-4"},W={class:"flex flex-wrap justify-center md:justify-start gap-3"},B=["href"],J=["src","alt"],X={class:"text-sm"},Y={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8"},N={class:"lg:col-span-2 glass-card rounded-2xl p-6 scroll-reveal"},H={class:"opacity-90 leading-relaxed text-base md:text-lg"},U={key:0,class:"mt-8"},K={class:"flex flex-wrap gap-3"},G=["href"],Q={class:"glass-card rounded-2xl p-6 scroll-reveal"},Z={class:"space-y-3"},ee=["href"],te={class:"w-10 h-10 rounded-full overflow-hidden flex items-center justify-center bg-white/10 flex-shrink-0"},ae=["src","alt"],le={class:"flex-1 min-w-0"},oe={class:"font-medium text-sm truncate group-hover:text-current"},ne={class:"text-xs opacity-70 truncate"},re={key:0,class:"text-center text-sm opacity-60 scroll-reveal"},se=n({__name:"Home",setup(e){const t=$(),{config:a}=r(t);return A(),l(()=>{setTimeout(()=>{document.querySelectorAll(".scroll-reveal").forEach(e=>{e.classList.add("visible")})},100)}),(e,t)=>{const l=x("RouterLink");return h(),s("div",D,[i("section",I,[i("div",z,[i("div",V,[i("img",{src:c(a).profile?.avatar||"/logo.ico",alt:c(a).profile?.name,class:"w-28 h-28 md:w-32 md:h-32 rounded-full border-4 border-white/30 object-cover animate-float",loading:"eager",onError:t[0]||(t[0]=e=>e.target.src="/logo.ico")},null,40,q),t[3]||(t[3]=i("div",{class:"absolute inset-0 rounded-full animate-pulse-light"},null,-1))]),i("div",O,[i("h1",F,u(c(a).profile?.name),1),i("p",R,u(c(a).profile?.bio),1),i("div",W,[(h(!0),s(d,null,p(c(a).contacts,e=>(h(),s("a",{key:e.id,href:e.url,target:"_blank",rel:"noopener noreferrer",class:"flex items-center gap-2 px-4 py-2 rounded-full glass-card hover:bg-white/20 transition-all duration-300"},["fontawesome"===e.iconType?(h(),s("i",{key:0,class:v([e.icon,"text-lg"])},null,2)):(h(),s("img",{key:1,src:e.icon,alt:e.name,class:"w-5 h-5 object-cover rounded-sm",onError:t[1]||(t[1]=e=>e.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2220%22 height=%2220%22 viewBox=%220 0 20 20%22%3E%3Ccircle cx=%2210%22 cy=%2210%22 r=%228%22 fill=%22%2360a5fa%22/%3E%3C/svg%3E"),style:{"background-color":"rgba(255,255,255,0.3)","min-width":"20px","min-height":"20px",opacity:"1",visibility:"visible",display:"inline-block"}},null,40,J)),i("span",X,u(e.name),1)],8,B))),128))])])])]),i("div",Y,[i("section",N,[t[5]||(t[5]=i("h2",{class:"text-2xl font-bold mb-4"},"关于我",-1)),i("p",H,u(c(a).profile?.about),1),c(a).quickLinks?.length?(h(),s("div",U,[t[4]||(t[4]=i("h3",{class:"text-xl font-bold mb-4"},"快速链接",-1)),i("div",K,[(h(!0),s(d,null,p(c(a).quickLinks,e=>(h(),s(d,{key:e.id},[e.url.startsWith("http")||e.url.startsWith("//")?(h(),s("a",{key:0,href:e.url,target:"_blank",rel:"noopener noreferrer",class:"px-5 py-2.5 rounded-lg glass-card hover:bg-white/20 transition-all duration-300 text-sm md:text-base"},u(e.name),9,G)):(h(),g(l,{key:1,to:e.url,class:"px-5 py-2.5 rounded-lg glass-card hover:bg-white/20 transition-all duration-300 text-sm md:text-base"},{default:y(()=>[f(u(e.name),1)]),_:2},1032,["to"]))],64))),128))])])):m("",!0),t[6]||(t[6]=i("div",{class:"mt-8 pt-6 border-t border-white/10"},[i("div",{class:"flex flex-wrap gap-4 text-sm opacity-70"},[i("span",null,[f(" 今日访问: "),i("span",{id:"busuanzi_today_pv"},"0")]),i("span",null,[f(" 访客数: "),i("span",{id:"busuanzi_today_uv"},"0")])])],-1))]),i("section",Q,[t[7]||(t[7]=i("h2",{class:"text-2xl font-bold mb-4"},"友情链接",-1)),i("div",Z,[(h(!0),s(d,null,p(c(a).friendLinks,e=>(h(),s("a",{key:e.id,href:e.url,target:"_blank",rel:"noopener noreferrer",class:"flex items-center gap-3 p-3 rounded-xl glass-card hover:bg-white/20 transition-all duration-300 group"},[i("div",te,["fontawesome"===e.iconType?(h(),s("i",{key:0,class:v([e.icon,"text-xl"])},null,2)):(h(),s("img",{key:1,src:e.icon,alt:e.name,class:"w-full h-full object-cover",onError:t[2]||(t[2]=e=>e.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2240%22 height=%2240%22 viewBox=%220 0 40 40%22%3E%3Crect width=%2240%22 height=%2240%22 fill=%22%2360a5fa%22 rx=%228%22/%3E%3Ctext x=%2220%22 y=%2225%22 font-size=%2214%22 fill=%22white%22 text-anchor=%22middle%22%3E%3F%3C/text%3E%3C/svg%3E"),style:{"background-color":"rgba(255,255,255,0.3)",opacity:"1",visibility:"visible",display:"block"}},null,40,ae))]),i("div",le,[i("h4",oe,u(e.name),1),i("p",ne,u(e.description),1)])],8,ee))),128))])])]),c(a).settings?.enableClickEffects?(h(),s("div",re,[...t[8]||(t[8]=[i("p",null,"点击页面任意位置查看社会主义核心价值观特效",-1)])])):m("",!0)])}}}),ie=b({history:w("./"),routes:[{path:"/",name:"home",component:se,meta:{title:"鳞游の小窝"}},{path:"/portfolio",name:"portfolio",component:()=>S(()=>import("./Portfolio-BMQpc0GJ.js"),__vite__mapDeps([0,1]),import.meta.url),meta:{title:"作品集 - 鳞游の小窝"}},{path:"/articles",name:"articles",component:()=>S(()=>import("./Articles-05qbztZJ.js"),__vite__mapDeps([2,1]),import.meta.url),meta:{title:"文章 - 鳞游の小窝"}},{path:"/projects",name:"projects",component:()=>S(()=>import("./Projects-D3bvkvaO.js"),__vite__mapDeps([3,1]),import.meta.url),meta:{title:"项目 - 鳞游の小窝"}},{path:"/contact",name:"contact",component:()=>S(()=>import("./Contact-CYcbIpKG.js"),__vite__mapDeps([4,1]),import.meta.url),meta:{title:"联系我 - 鳞游の小窝"}},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>S(()=>import("./NotFound-DZgbLKcq.js"),__vite__mapDeps([5,1]),import.meta.url),meta:{title:"404 - 页面未找到"}}],scrollBehavior:(e,t,a)=>a||{top:0}});ie.beforeEach((e,t,a)=>{document.title=e.meta.title||"鳞游の小窝",a()});const ce=e("player",()=>{const e=t(null),l=t([]),o=t(0),n=t(!1),r=t(0),s=t(0),i=t(1),c=t(!1),u=t(!1),d=a(()=>l.value[o.value]||null),p=a(()=>0===s.value?0:r.value/s.value*100),m=a(()=>o.value<l.value.length-1),f=a(()=>o.value>0),h=t=>{if(t<0||t>=l.value.length)return;const a=l.value[t];if(a?.audio&&(e.value&&e.value.pause(),o.value=t,e.value)){e.value.src=a.audio,e.value.load();const t=e.value.play();void 0!==t&&t.then(()=>{n.value=!0}).catch(e=>{n.value=!1})}},v=()=>{if(0===l.value.length)return;const e=(o.value+1)%l.value.length;h(e)};return{playlist:l,currentTrackIndex:o,isPlaying:n,currentTime:r,duration:s,volume:i,showPlaylist:c,showMobilePlayer:u,currentTrack:d,progress:p,hasNext:m,hasPrev:f,init:t=>{l.value=t,e.value||(e.value=new Audio,e.value.preload="metadata",e.value.addEventListener("timeupdate",()=>{r.value=e.value?.currentTime||0}),e.value.addEventListener("loadedmetadata",()=>{s.value=e.value?.duration||0}),e.value.addEventListener("ended",()=>{v()}),e.value.addEventListener("error",e=>{n.value=!1}))},playTrack:h,togglePlay:()=>{if(e.value)if(!d.value&&l.value.length>0)h(0);else if(n.value)e.value.pause(),n.value=!1;else{const t=e.value.play();void 0!==t&&t.then(()=>{n.value=!0}).catch(e=>{})}},next:v,prev:()=>{if(0===l.value.length)return;const e=0===o.value?l.value.length-1:o.value-1;h(e)},randomPlay:async()=>{const e=await(async()=>{const e=["https://api-v2.cenguigui.cn/api/netease/","https://api-v2.cenguigui.cn/api/singduck/","https://api.guiguiya.com/api/music/netease_163?mid=19723756&format=json"];try{const t=e[Math.floor(Math.random()*e.length)],a=(new Date).getTime(),l=t+(t.includes("?")?"&":"?")+"t="+a,o=await fetch(l);if(!o.ok)throw new Error("API request failed");const n=await o.json();if(200===n.code&&n.data)return t.includes("singduck")?{id:Date.now().toString(),title:"用户翻唱",artist:n.data.nickname,audio:n.data.audioSrc.trim(),cover:n.data.avatar.trim(),lrc:n.data.lyrics}:{id:n.data.song_id?.toString()||Date.now().toString(),title:n.data.song_name||"未知歌曲",artist:n.data.artist||"未知艺术家",audio:n.data.play_url?.trim()||"",cover:n.data.img?.trim()||"/default-cover.jpg",lrc:n.data.lrc||""};if(1===n.code&&n.data)return{id:n.data.id?.toString()||Date.now().toString(),title:n.data.name||"未知歌曲",artist:n.data.auther||"未知艺术家",audio:n.data.url?.trim()||"",cover:n.data.pic_url?.trim()||"/default-cover.jpg",lrc:""};throw new Error("Invalid API response")}catch(t){return null}})();if(e&&e.audio)l.value.push(e),h(l.value.length-1);else{if(0===l.value.length)return;let e;do{e=Math.floor(Math.random()*l.value.length)}while(e===o.value&&l.value.length>1);h(e)}},seek:t=>{if(!e.value||!s.value)return;const a=t/100*s.value;e.value.currentTime=a,r.value=a},setVolumeLevel:t=>{i.value=Math.max(0,Math.min(1,t)),e.value&&(e.value.volume=i.value)},formatTime:e=>{if(isNaN(e))return"0:00";const t=Math.floor(e/60),a=Math.floor(e%60);return`${t}:${a<10?"0":""}${a}`},togglePlaylist:()=>{c.value=!c.value},toggleMobilePlayer:()=>{u.value=!u.value}}});const ue=[{content:"江山代有才人出，各领风骚数百年。",author:"—— 赵翼《论诗》"},{content:"不识庐山真面目，只缘身在此山中。",author:"—— 苏轼《题西林壁》"},{content:"春蚕到死丝方尽，蜡炬成灰泪始干。",author:"—— 李商隐《无题》"},{content:"人生自古谁无死？留取丹心照汗青。",author:"—— 文天祥《过零丁洋》"},{content:"落红不是无情物，化作春泥更护花。",author:"—— 龚自珍《己亥杂诗》"},{content:"海内存知己，天涯若比邻。",author:"—— 王勃《送杜少府之任蜀州》"},{content:"会当凌绝顶，一览众山小。",author:"—— 杜甫《望岳》"},{content:"沉舟侧畔千帆过，病树前头万木春。",author:"—— 刘禹锡《酬乐天扬州初逢席上见赠》"}],de=(e,t)=>e&&"object"==typeof e?t.split(".").reduce((e,t)=>e&&"object"==typeof e&&t in e?e[t]:"",e):"";const pe={key:0,class:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.85)"}},me={class:"glass-card rounded-2xl p-8 md:p-12 max-w-lg mx-4 text-center"},fe={key:0,class:"text-xl md:text-2xl font-bold animate-pulse"},he={class:"text-2xl md:text-3xl lg:text-4xl font-bold mb-4 leading-relaxed"},ve={class:"text-base md:text-lg opacity-80"},ge=n({__name:"PoemSplash",setup(e){const{poem:a,loading:o,visible:n}=function(){const e=$(),a=t(ue[0]),o=t(!0),n=t(!0),r=async()=>{const t=Math.floor(Math.random()*ue.length);a.value=ue[t];const{poetryAPI:l}=e.config;if(navigator.onLine&&l?.enabled&&l.sources&&l.sources.length>0){const e=l.sources[Math.floor(Math.random()*l.sources.length)];try{const t=new AbortController,l=setTimeout(()=>t.abort(),3e3),o=await fetch(e.url,{signal:t.signal,headers:{Accept:"json"===e.responseType?"application/json":"text/plain"}});if(clearTimeout(l),o.ok)if("json"===e.responseType){const t=await o.json(),l=e.jsonPath?((e,t)=>{if(t.includes("+"))return t.split("+").map(t=>{if((t=t.trim()).startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"'))return t.substring(1,t.length-1);if(t.includes(">")){const a=t.replace(">","."),l=de(e,a);return null!=l?l:""}const a=de(e,t);return null!=a?a:""}).join("");if(t.includes(">")){const a=t.replace(">","."),l=de(e,a);return null!=l?l:""}const a=de(e,t);return null!=a?a:""})(t,e.jsonPath):t;if(l)if("string"==typeof l){const e=l.split("——");e.length>=2&&(a.value={content:e[0].trim(),author:"—— "+e[1].trim()})}else if(l.content&&l.author)a.value={content:l.content.trim(),author:l.author.trim()};else if(l.text){const e=l.text.split("——");e.length>=2?a.value={content:e[0].trim(),author:"—— "+e[1].trim()}:a.value={content:l.text.trim(),author:""}}}else{const e=await o.text(),t=e.split("——");t.length>=2?a.value={content:t[0].trim(),author:"—— "+t[1].trim()}:a.value={content:e.trim(),author:""}}}catch(r){}}o.value=!1,setTimeout(()=>{n.value=!1},2e3)};return l(()=>{r()}),{poem:a,loading:o,visible:n,fetchPoem:r}}();return(e,t)=>(h(),g(k,{"enter-active-class":"transition-opacity duration-500","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-700","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:y(()=>[c(n)?(h(),s("div",pe,[i("div",me,[c(o)?(h(),s("div",fe," 加载中... ")):(h(),s(d,{key:1},[i("p",he,u(c(a).content),1),i("p",ve,u(c(a).author),1)],64))])])):m("",!0)]),_:1}))}}),ye={id:"particles-bg",class:"particles-bg"},xe=(e=>{const t=e.__vccOpts||e;for(const[a,l]of[["__scopeId","data-v-fbbda368"]])t[a]=l;return t})(n({__name:"ParticlesBackground",setup(e){const t=$(),{currentTheme:a}=r(t),o=e=>{window.particlesJS&&document.getElementById("particles-bg")&&window.particlesJS("particles-bg",{particles:{number:{value:50,density:{enable:!0,value_area:800}},color:{value:e},shape:{type:"circle"},opacity:{value:.5,random:!0},size:{value:3,random:!0},line_linked:{enable:!0,distance:150,color:e,opacity:.2,width:1},move:{enable:!0,speed:1,direction:"none",random:!0}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"}}}})};return l(()=>{if(window.particlesJS)a.value&&o(a.value.color);else{const e=document.createElement("script");e.src="https://fastly.jsdelivr.net/particles.js/2.0.0/particles.min.js",e.onload=()=>{a.value&&o(a.value.color)},e.onerror=()=>{},document.head.appendChild(e)}}),E(a,e=>{e&&window.particlesJS&&(window.pJSDom&&window.pJSDom.length>0&&(window.pJSDom[0].pJS.fn.vendors.destroypJS(),window.pJSDom=[]),o(e.color))}),(e,t)=>(h(),s("div",ye))}}));const be={class:"fixed inset-0 pointer-events-none z-40 overflow-hidden"},we=n({__name:"MouseEffectsContainer",props:{coreValues:{},themeColor:{}},setup(e){const a=e,{ripples:n,coreValueEffects:r,mouseParticles:i}=function(e){const a=t([]),n=t([]),r=t([]);let s=0,i=null,c=!1;const u=(()=>{if("undefined"==typeof window)return!1;const e=navigator.connection;if(e){if(e.saveData)return!0;if("2g"===e.effectiveType||"slow-2g"===e.effectiveType)return!0}const t=navigator.deviceMemory;return!!(t&&t<4)||window.innerWidth<480})(),d="undefined"!=typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,p={maxParticles:d?0:u?8:e.maxParticles,particleSize:e.particleSize||{min:4,max:8},particleOpacity:e.particleOpacity||{min:.2,max:.6},particleDuration:e.particleDuration||{min:800,max:1500},rippleDuration:e.rippleDuration,coreValueDuration:d?800:e.coreValueDuration,coreValues:e.coreValues,themeColor:e.themeColor||"#60a5fa",enableParticles:!d&&!u,enableRipples:!d,enableCoreValues:!d},m=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,f=(e,t)=>Math.random()*(t-e)+e,h=e=>{((e,t)=>{if(!p.enableRipples)return;const l={id:m(),x:e-50,y:t-50,size:100,opacity:1};a.value.push(l);const o=performance.now(),n=p.rippleDuration,r=e=>{const t=e-o,s=Math.min(t/n,1),i=a.value.findIndex(e=>e.id===l.id);-1!==i&&(a.value[i].opacity=1-s,a.value[i].size=100+100*s),s<1&&c?requestAnimationFrame(r):a.value=a.value.filter(e=>e.id!==l.id)};requestAnimationFrame(r)})(e.clientX,e.clientY),((e,t)=>{if(!p.enableCoreValues||!p.coreValues.length)return;const a=p.coreValues[Math.floor(Math.random()*p.coreValues.length)],l={id:m(),text:a,x:e,y:t,opacity:0,floatX:0,floatY:0,rotation:0};n.value.push(l);const o=80*(Math.random()-.5),r=-80-40*Math.random(),s=15*(Math.random()-.5);requestAnimationFrame(()=>{const e=n.value.findIndex(e=>e.id===l.id);-1!==e&&(n.value[e].opacity=1)});const i=performance.now(),u=p.coreValueDuration,d=e=>{const t=e-i,a=Math.min(t/u,1),p=n.value.findIndex(e=>e.id===l.id);-1!==p&&(n.value[p].floatX=o*a,n.value[p].floatY=r*a,n.value[p].rotation=s*a,n.value[p].opacity=1-a),a<1&&c?requestAnimationFrame(d):n.value=n.value.filter(e=>e.id!==l.id)};requestAnimationFrame(d)})(e.clientX,e.clientY)},v=e=>{((e,t)=>{if(!p.enableParticles||s>=p.maxParticles)return;const a=f(p.particleSize.min,p.particleSize.max),l=f(p.particleOpacity.min,p.particleOpacity.max),o={id:m(),x:e,y:t,size:a,opacity:l,floatX:0,floatY:0,scale:1};r.value.push(o),s++;const n=40*(Math.random()-.5),i=40*(Math.random()-.5),u=f(p.particleDuration.min,p.particleDuration.max),d=performance.now(),h=e=>{const t=e-d,a=Math.min(t/u,1),p=r.value.findIndex(e=>e.id===o.id);-1!==p&&(r.value[p].floatX=n*a,r.value[p].floatY=i*a,r.value[p].opacity=l*(1-a),r.value[p].scale=1-a),a<1&&c?requestAnimationFrame(h):(r.value=r.value.filter(e=>e.id!==o.id),s--)};requestAnimationFrame(h)})(e.clientX,e.clientY)},g=e=>{let t=null;return function(...a){null===t&&(t=requestAnimationFrame(()=>{e.apply(this,a),t=null}))}},y=(e,t)=>{let a=!1;return function(...l){a||(e.apply(this,l),a=!0,setTimeout(()=>a=!1,t))}},x=()=>{c||(c=!0,p.enableParticles&&(i=u?y(v,100):g(v),document.addEventListener("mousemove",i,{passive:!0})),(p.enableRipples||p.enableCoreValues)&&document.addEventListener("click",h,{passive:!0}))},b=()=>{c=!1,document.removeEventListener("click",h),i&&document.removeEventListener("mousemove",i)};return l(()=>{setTimeout(()=>{x()},100)}),o(()=>{b(),a.value=[],n.value=[],r.value=[],s=0}),{ripples:a,coreValueEffects:n,mouseParticles:r,start:x,stop:b,config:p}}({coreValues:a.coreValues,themeColor:a.themeColor,maxParticles:20,particleSize:{min:3,max:8},particleOpacity:{min:.2,max:.6},particleDuration:{min:600,max:1200},rippleDuration:400,coreValueDuration:1200});return(t,a)=>(h(),s("div",be,[(h(!0),s(d,null,p(c(n),t=>(h(),s("div",{key:t.id,class:"absolute rounded-full",style:_({left:`${t.x}px`,top:`${t.y}px`,width:`${t.size}px`,height:`${t.size}px`,backgroundColor:e.themeColor||"#60a5fa",opacity:.5*t.opacity,boxShadow:`0 0 20px ${e.themeColor||"#60a5fa"}`})},null,4))),128)),(h(!0),s(d,null,p(c(r),t=>(h(),s("div",{key:t.id,class:"absolute text-xl md:text-2xl font-bold whitespace-nowrap",style:_({left:`${t.x}px`,top:`${t.y}px`,color:e.themeColor||"#60a5fa",opacity:t.opacity,textShadow:`0 0 10px ${e.themeColor||"#60a5fa"}`,transform:`translate(${t.floatX}px, ${t.floatY}px) rotate(${t.rotation}deg)`})},u(t.text),5))),128)),(h(!0),s(d,null,p(c(i),t=>(h(),s("div",{key:t.id,class:"absolute rounded-full",style:_({left:`${t.x}px`,top:`${t.y}px`,width:`${t.size}px`,height:`${t.size}px`,backgroundColor:e.themeColor||"#60a5fa",opacity:t.opacity,boxShadow:`0 0 8px ${e.themeColor||"#60a5fa"}`,transform:`translate(${t.floatX}px, ${t.floatY}px) scale(${t.scale})`})},null,4))),128))]))}}),ke={class:"fixed top-5 right-5 z-50"},Ee={class:"glass-card rounded-full p-2 flex gap-2"},_e=["onClick","title","aria-label"],Te=n({__name:"ThemeSelector",setup(e){const t=$(),{config:a,currentTheme:l}=r(t),{setTheme:o}=t;return(e,t)=>(h(),s("div",ke,[i("div",Ee,[(h(!0),s(d,null,p(c(a).themes,e=>(h(),s("button",{key:e.id,onClick:t=>c(o)(e.id),class:v(["w-7 h-7 rounded-full border-2 border-white/30 focus:outline-none transition-transform hover:scale-110 focus:scale-110",{"ring-2 ring-white ring-offset-2 ring-offset-transparent":c(l)?.id===e.id}]),style:_({backgroundColor:e.color}),title:e.name,"aria-label":`切换到${e.name}主题`},null,14,_e))),128))])]))}}),Ce={key:0,class:"pt-16 pb-28 md:pb-32 text-center opacity-80"},je={class:"container mx-auto px-4 max-w-6xl"},Pe={class:"text-sm md:text-base"},Se=["innerHTML"],Me={key:0,class:"flex flex-wrap justify-center gap-4 md:gap-6 mt-6"},Le=["href"],$e=n({__name:"AppFooter",setup(e){const t=$(),{config:a}=r(t);return(e,t)=>c(a).footer?(h(),s("footer",Ce,[i("div",je,[i("p",Pe,u(c(a).footer.copyright),1),i("p",{class:"mt-2 text-sm",innerHTML:c(a).footer.extraInfo},null,8,Se),c(a).footer.links?.length?(h(),s("div",Me,[(h(!0),s(d,null,p(c(a).footer.links,e=>(h(),s("a",{key:e.id,href:e.url,class:"link-hover text-sm hover:opacity-100 transition-opacity"},u(e.name),9,Le))),128))])):m("",!0),t[0]||(t[0]=i("div",{class:"mt-6 text-xs opacity-60 space-y-1"},[i("p",null,[f(" 本站总访问量 "),i("span",{id:"busuanzi_site_pv"},"0"),f(" 次 | 本站总访客数 "),i("span",{id:"busuanzi_site_uv"},"0"),f(" 人 ")])],-1))])])):m("",!0)}}),Ae={class:"fixed bottom-5 left-1/2 -translate-x-1/2 z-40 w-[95%] max-w-xl"},De={class:"glass-card rounded-2xl p-4 hidden md:block"},Ie={class:"flex items-center gap-4"},ze={class:"relative flex-shrink-0"},Ve=["src","alt"],qe={key:0,class:"absolute inset-0 bg-black/20 rounded-lg animate-pulse"},Oe={class:"flex-1 min-w-0"},Fe={class:"font-medium text-sm truncate"},Re={class:"text-xs opacity-70 truncate"},We={class:"flex items-center gap-2"},Be=["aria-label"],Je={class:"mt-3 flex items-center gap-3"},Xe={class:"text-xs opacity-70 w-10 text-right"},Ye={class:"text-xs opacity-70 w-10"},Ne={key:0,class:"absolute bottom-full left-0 right-0 mb-2 max-h-60 overflow-y-auto glass-card rounded-xl p-2"},He=["onClick"],Ue=["src","alt"],Ke={class:"flex-1 min-w-0"},Ge={class:"text-sm font-medium truncate"},Qe={class:"text-xs opacity-70 truncate"},Ze={key:0,class:"fas fa-volume-up text-xs animate-pulse"},et={class:"md:hidden"},tt={key:0,class:"fixed bottom-20 right-4 w-72 glass-card rounded-2xl p-4 shadow-xl z-40"},at={class:"flex items-center gap-3 mb-4"},lt=["src","alt"],ot={class:"flex-1 min-w-0"},nt={class:"font-medium text-sm truncate"},rt={class:"text-xs opacity-70 truncate"},st={class:"flex items-center justify-center gap-4 mb-4"},it={class:"flex items-center gap-2 mb-3"},ct={class:"text-xs opacity-70"},ut={class:"text-xs opacity-70"},dt={key:0,class:"mt-2 max-h-40 overflow-y-auto"},pt=["onClick"],mt=["src","alt"],ft={class:"flex-1 min-w-0"},ht={class:"text-xs font-medium truncate"},vt=n({__name:"MusicPlayer",setup(e){const t=ce(),{currentTrack:a,isPlaying:l,progress:o,currentTime:n,duration:g,playlist:x,currentTrackIndex:b,showPlaylist:w,showMobilePlayer:E}=r(t),{togglePlay:C,next:j,prev:P,randomPlay:S,seek:M,formatTime:L,playTrack:$,togglePlaylist:A,toggleMobilePlayer:D}=t,I=e=>{const t=e.currentTarget.getBoundingClientRect(),a=(e.clientX-t.left)/t.width*100;M(a)},z=e=>{I(e)};return(e,t)=>(h(),s("div",Ae,[i("div",De,[i("div",Ie,[i("div",ze,[i("img",{src:c(a)?.cover||"/default-cover.jpg",alt:c(a)?.title,class:v(["w-14 h-14 rounded-lg object-cover shadow-md",{"animate-spin-slow":c(l)}])},null,10,Ve),c(l)?(h(),s("div",qe)):m("",!0)]),i("div",Oe,[i("h4",Fe,u(c(a)?.title||"未播放"),1),i("p",Re,u(c(a)?.artist||"未知艺术家"),1)]),i("div",We,[i("button",{onClick:t[0]||(t[0]=(...e)=>c(P)&&c(P)(...e)),class:"p-2 rounded-full hover:bg-white/10 transition-colors","aria-label":"上一首"},[...t[11]||(t[11]=[i("i",{class:"fas fa-step-backward text-sm"},null,-1)])]),i("button",{onClick:t[1]||(t[1]=(...e)=>c(C)&&c(C)(...e)),class:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-all hover:scale-105","aria-label":c(l)?"暂停":"播放"},[i("i",{class:v([c(l)?"fas fa-pause":"fas fa-play","text-sm"])},null,2)],8,Be),i("button",{onClick:t[2]||(t[2]=(...e)=>c(j)&&c(j)(...e)),class:"p-2 rounded-full hover:bg-white/10 transition-colors","aria-label":"下一首"},[...t[12]||(t[12]=[i("i",{class:"fas fa-step-forward text-sm"},null,-1)])]),i("button",{onClick:t[3]||(t[3]=(...e)=>c(S)&&c(S)(...e)),class:"p-2 rounded-full hover:bg-white/10 transition-colors","aria-label":"随机播放"},[...t[13]||(t[13]=[i("i",{class:"fas fa-random text-sm"},null,-1)])]),i("button",{onClick:t[4]||(t[4]=(...e)=>c(A)&&c(A)(...e)),class:"p-2 rounded-full hover:bg-white/10 transition-colors","aria-label":"播放列表"},[...t[14]||(t[14]=[i("i",{class:"fas fa-list text-sm"},null,-1)])])])]),i("div",Je,[i("span",Xe,u(c(L)(c(n))),1),i("div",{class:"flex-1 h-1.5 bg-white/20 rounded-full overflow-hidden cursor-pointer",onClick:I},[i("div",{class:"h-full bg-white/60 rounded-full transition-all duration-100",style:_({width:`${c(o)}%`})},null,4)]),i("span",Ye,u(c(L)(c(g))),1)]),T(k,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:y(()=>[c(w)?(h(),s("div",Ne,[(h(!0),s(d,null,p(c(x),(e,t)=>(h(),s("div",{key:e.id,onClick:e=>c($)(t),class:v(["flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors",{"bg-white/20":t===c(b)}])},[i("img",{src:e.cover,alt:e.title,class:"w-10 h-10 rounded object-cover"},null,8,Ue),i("div",Ke,[i("h5",Ge,u(e.title),1),i("p",Qe,u(e.artist),1)]),t===c(b)&&c(l)?(h(),s("i",Ze)):m("",!0)],10,He))),128))])):m("",!0)]),_:1})]),i("div",et,[i("button",{onClick:t[5]||(t[5]=(...e)=>c(D)&&c(D)(...e)),class:"fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full glass-card flex items-center justify-center shadow-lg transition-transform hover:scale-110"},[i("i",{class:v([c(l)?"fas fa-pause":"fas fa-play","text-lg"])},null,2)]),T(k,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:y(()=>[c(E)?(h(),s("div",tt,[i("div",at,[i("img",{src:c(a)?.cover||"/default-cover.jpg",alt:c(a)?.title,class:v(["w-12 h-12 rounded-lg object-cover",{"animate-spin-slow":c(l)}])},null,10,lt),i("div",ot,[i("h4",nt,u(c(a)?.title||"未播放"),1),i("p",rt,u(c(a)?.artist||"未知艺术家"),1)])]),i("div",st,[i("button",{onClick:t[6]||(t[6]=(...e)=>c(P)&&c(P)(...e)),class:"p-2 rounded-full hover:bg-white/10 transition-colors"},[...t[15]||(t[15]=[i("i",{class:"fas fa-step-backward"},null,-1)])]),i("button",{onClick:t[7]||(t[7]=(...e)=>c(C)&&c(C)(...e)),class:"w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-all hover:scale-105"},[i("i",{class:v(c(l)?"fas fa-pause":"fas fa-play")},null,2)]),i("button",{onClick:t[8]||(t[8]=(...e)=>c(j)&&c(j)(...e)),class:"p-2 rounded-full hover:bg-white/10 transition-colors"},[...t[16]||(t[16]=[i("i",{class:"fas fa-step-forward"},null,-1)])]),i("button",{onClick:t[9]||(t[9]=(...e)=>c(S)&&c(S)(...e)),class:"p-2 rounded-full hover:bg-white/10 transition-colors"},[...t[17]||(t[17]=[i("i",{class:"fas fa-random"},null,-1)])])]),i("div",it,[i("span",ct,u(c(L)(c(n))),1),i("div",{class:"flex-1 h-1 bg-white/20 rounded-full overflow-hidden cursor-pointer",onClick:z},[i("div",{class:"h-full bg-white/60 rounded-full transition-all duration-100",style:_({width:`${c(o)}%`})},null,4)]),i("span",ut,u(c(L)(c(g))),1)]),i("button",{onClick:t[10]||(t[10]=(...e)=>c(A)&&c(A)(...e)),class:"w-full py-2 text-sm hover:bg-white/10 rounded-lg transition-colors"},[...t[18]||(t[18]=[i("i",{class:"fas fa-list mr-2"},null,-1),f("播放列表 ",-1)])]),c(w)?(h(),s("div",dt,[(h(!0),s(d,null,p(c(x),(e,t)=>(h(),s("div",{key:e.id,onClick:e=>c($)(t),class:v(["flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-colors",{"bg-white/20":t===c(b)}])},[i("img",{src:e.cover,alt:e.title,class:"w-8 h-8 rounded object-cover"},null,8,mt),i("div",ft,[i("h5",ht,u(e.title),1)])],10,pt))),128))])):m("",!0)])):m("",!0)]),_:1})])]))}}),gt={id:"app",class:"theme-transition min-h-screen relative"},yt={class:"container mx-auto px-4 py-8 max-w-6xl relative z-10"},xt=C(n({__name:"App",setup(e){const t=$(),a=ce(),{config:n,currentTheme:u}=r(t);return function(){const e={},t=()=>{let t=100;e.lcp&&e.lcp>2500&&(t-=20),e.fid&&e.fid>100&&(t-=20),e.cls&&e.cls>.1&&(t-=20),e.fcp&&e.fcp>1800&&(t-=15),e.ttfb&&e.ttfb>600&&(t-=15)};let a=[];l(()=>{"complete"===document.readyState?n():window.addEventListener("load",n)});const n=()=>{setTimeout(()=>{try{a.push((()=>{const t=new PerformanceObserver(t=>{t.getEntries().forEach(t=>{"first-contentful-paint"===t.name&&(e.fcp=t.startTime)})});return t.observe({entryTypes:["paint"]}),t})()),a.push((()=>{const t=new PerformanceObserver(t=>{const a=t.getEntries(),l=a[a.length-1];e.lcp=l.startTime});return t.observe({entryTypes:["largest-contentful-paint"]}),t})()),a.push((()=>{const t=new PerformanceObserver(t=>{t.getEntries().forEach(t=>{const a=t;e.fid=a.processingStart-a.startTime})});return t.observe({entryTypes:["first-input"]}),t})()),a.push((()=>{let t=0;const a=new PerformanceObserver(a=>{a.getEntries().forEach(e=>{e.hadRecentInput||(t+=e.value)}),e.cls=t});return a.observe({entryTypes:["layout-shift"]}),a})()),(()=>{const t=performance.getEntriesByType("navigation")[0];t&&(e.ttfb=t.responseStart-t.startTime)})(),setTimeout(t,5e3)}catch(l){}},100)};o(()=>{a.forEach(e=>e.disconnect()),a=[]})}(),l(()=>{window,window,window,window,window,window,CSS.supports("color","var(--test)"),CSS.supports("backdrop-filter","blur(10px)"),CSS.supports("display","grid"),CSS.supports("contain","layout")}),l(async()=>{await t.loadConfig(),t.initTheme(),n.value.playlist?.length&&a.init(n.value.playlist);const e=document.getElementById("app-loading");e&&(e.classList.add("hidden"),setTimeout(()=>{e.remove()},500)),document.documentElement.classList.add("loaded")}),E(u,e=>{if(e){document.body.style.backgroundColor=e.bg,document.body.style.color=e.text;const t=document.querySelector('meta[name="theme-color"]');t&&t.setAttribute("content",e.color)}},{immediate:!0}),(e,t)=>{const a=x("RouterView");return h(),s("div",gt,[i("div",{class:"fixed inset-0 -z-10",style:_({backgroundColor:c(u)?.bg||"#eff6ff"})},null,4),c(n).settings.enableParticles?(h(),g(xe,{key:0})):m("",!0),!1!==c(n).settings.enablePoem?(h(),g(ge,{key:1})):m("",!0),c(n).settings.enableClickEffects?(h(),g(we,{key:2,"core-values":c(n).coreValues,"theme-color":c(u)?.color},null,8,["core-values","theme-color"])):m("",!0),T(Te),i("main",yt,[T(a)]),T($e),c(n).settings.enableMusicPlayer&&c(n).playlist?.length?(h(),g(vt,{key:3})):m("",!0)])}}}));xt.use(j()),xt.use(ie),xt.mount("#app"),(()=>{const e=document.getElementById("app-loading"),t=document.documentElement;e&&(e.classList.add("hidden"),setTimeout(()=>{e.remove()},500)),t.classList.add("loaded")})();export{A as u};
